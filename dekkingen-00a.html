<!-- Dit voorbeeld toont hoe de dekkingen momenteel op de website van OHRA worden gekozen. -->
<!--

Aangepast tov versie 00:
- legend van eerste fieldset (basisdekking) aangescherpt: Kies de basisdekking van uw autoverzekering
- bron: Accessibility.nl (Harmen)
- vraag Accessibilty.nl: is dit een juiste benadering?

- th elementen voorzien van scope attribute
- row headers aangegeven, door td te wijzigen in th en deze een scope attribuut te geven
- caption element toegevoegd aan tabel
- bron: https://www.youtube.com/watch?v=npto50RJpDc
- vraag Accessibilty.nl: is dit een juiste benadering?

- vinkjes en kruisjes in tabel, voorzien van verborgen tekst "Inbegrepen" en "Niet inbegrepen" middels aria-label attribuut 
- bron: Accessibility.nl (Harmen)
- vraag Accessibilty.nl: is dit een juiste benadering?

-> 

- buttons met label 'meer informatie' voorzien van verborgen tekst, zoals 'over aanvullende pechhulp dekking'
- bron: Accessibility.nl (Harmen)
- vraag Accessibilty.nl: is dit een juiste benadering?

- modal dialogs voorzien van role="dialog", aria-modal="true"
- bron: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-modal
- vraag Accessibilty.nl: is dit een juiste benadering? (moeten we een info popup zien als een modal dialog?)
- vraag Accessibilty.nl: zou aria-labelledby en aria-describedby hier nog iets toevoegen aan de dialog?

- close button van modal dialogs voorzien van onzichtbare tekst "Sluiten"
- bron: Accessibility.nl (Harmen)
- vraag Accessibilty.nl: is dit een juiste benadering?
- vraag Accessibilty.nl: wat moeten we doen om de close button de juiste rol mee te geven?

- language attribute op html
- focusable buttons op close modal

TODO: ook info dialog bij onderdelen
-->
<html lang="nl">

<head>
    <title>Wijziging doorgeven voor Autoverzekering Dacia Duster GT-564-B</title>
    <style>
        /* Basisstijl voor de modal */
        .modal {
            display: none;
            /* Verborgen standaard */
            position: fixed;
            margin-left: 0;
            /* Blijft op dezelfde plaats */
            z-index: 1000;
            /* Zorgt ervoor dat het boven andere elementen ligt */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            /* Voeg scroll toe als de inhoud groter is dan het scherm */
            background-color: rgba(0, 0, 0, 0.5);
            /* Semi-transparante achtergrond */
        }

        /* Stijl voor de modal inhoud */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            /* 15% vanaf de bovenkant en gecentreerd */
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            /* Breedte van de modal */
            max-width: 600px;
            /* Maximale breedte van de modal */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        /* Stijl voor de sluitknop */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .visually-hidden {
            border: 0;
            clip: rect(0 0 0 0);
            height: 1px;
            margin: -1px;
            overflow: hidden;
            padding: 0;
            position: absolute;
            width: 1px;
        }
    </style>
</head>

<body>
    <h1>Dekking autoverzekering wijzigen</h1>
    <h2>Uw dekking</h2>
    <p>WA basisdekking, zonder aanvullende dekkingen. De maandelijkse premie is &euro;
        30,25.</p>
    <form>
        <h3>Basisdekking</h3>
        <p>U heeft momenteel de WA basisdekking. Dit is onze eenvoudigste basisdekking en dekt schade die u
            aan anderen toebrengt.</p>

        <fieldset>
            <legend>Kies de basisdekking van uw autoverzekering</legend>

            <table>
                <caption>Dekkingen per basisdekking</caption>
                <thead>
                    <tr>
                        <th scope="col">Dekking</th>
                        <th scope="col">
                            <input type="radio" id="basis" name="dekkingNiveau" value="basis" checked>
                            <label for="basis">WA</label>
                        </th>
                        <th scope="col">
                            <input type="radio" id="standaard" name="dekkingNiveau" value="standaard">
                            <label for="standaard">WA Plus</label>
                        </th>
                        <th scope="col">
                            <input type="radio" id="premie" name="dekkingNiveau" value="premie">
                            <label for="premie">All-Risk</label>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Aansprakelijkheidsdekking</th>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                    </tr>
                    <tr>
                        <th scope="row">Schadeverzekering inzittenden</th>
                        <td>&cross; <span class="visually-hidden">Niet inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                    </tr>
                    <tr>
                        <th scope="row">Rechtsbijstand</th>
                        <td>&cross; <span class="visually-hidden">Niet inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                    </tr>
                    <tr>
                        <th scope="row">Ruitschade</th>
                        <td>&cross; <span class="visually-hidden">Niet inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                    </tr>
                    <tr>
                        <th scope="row">Allriskdekking</th>
                        <td>&cross; <span class="visually-hidden">Niet inbegrepen</span></td>
                        <td>&cross; <span class="visually-hidden">Niet inbegrepen</span></td>
                        <td>&checkmark; <span class="visually-hidden">Inbegrepen</span></td>
                    </tr>
                </tbody>
            </table>
        </fieldset>

        <fieldset id="eigenrisico" hidden>
            <legend>Kies uw eigen risico</legend>
            <input type="radio" id="ir0" name="eigenRisico" value="0">
            <label for="ir0">&euro; 0,-</label>
            <input type="radio" id="ir150" name="eigenRisico" value="150" checked>
            <label for="ir150">&euro; 150,-</label>
            <input type="radio" id="ir300" name="eigenRisico" value="300">
            <label for="ir300">&euro; 300,-</label>
            <input type="radio" id="ir450" name="eigenRisico" value="450">
            <label for="ir450">&euro; 450,-</label>
        </fieldset>


        <h3>Extra dekkingen</h3>
        <p>U heeft momenteel geen extra dekkingen.</p>
        <fieldset>
            <legend>Kies uw extra dekkingen</legend>

            <div>
                <div id="exclusief">Let op: Pechhulp is alleen beschikbaar bij WA Plus en All-Risk</div>
                <ul>
                    <li>
                        <input type="checkbox" id="pechhulp" name="extraDekking" value="pechhulp">
                        <label for="pechhulp">Pechhulp: &euro; 10,96 per maand
                            <p>Hulp bij pech onderweg.</p>
                        </label>
                        <dd id="pechhulpDesc" class="modal" role="dialog" aria-modal="true">
                            <div class="modal-content">
                                <button class="close">
                                    &times;<span class="visually-hidden">Sluiten</span>
                                </button>
                                <h4>Pechhulp</h4>
                                <p>Met de pechhulpdekking krijgt u hulp bij pech onderweg, zoals het slepen van uw
                                    voertuig naar een garage of het verhelpen van kleine problemen ter plaatse.</p>
                            </div>
                        </dd>
                        <button type="button" class="expand-btn" aria-expanded="false" aria-controls="pechhulpDesc">Meer
                            informatie <span class="visually-hidden">over onze extra pechhulp dekking</span></button>
                    </li>
                    <li>
                        <input type="checkbox" id="vervangendVervoer" name="extraDekking" value="vervangendVervoer">
                        <label for="vervangendVervoer">Vervangend Vervoer: &euro; 4,24 per maand
                            <p>Vervangend vervoer bij schade. </p>
                        </label>
                        <dd id="vervangendVervoerDesc" class="modal" role="dialog" aria-modal="true">
                            <div class="modal-content">
                                <button class="close">
                                    &times;<span class="visually-hidden">Sluiten</span>
                                </button>
                                <h4>Vervangend Vervoer</h4>
                                <p>Met de dekking voor vervangend vervoer krijgt u een vervangende auto als uw eigen
                                    voertuig niet meer kan rijden door schade of een ongeval.</p>
                            </div>
                        </dd>
                        <button type="button" class="expand-btn" aria-expanded="false"
                            aria-controls="vervangendVervoerDesc">Meer informatie <span class="visually-hidden">over onze extra vervangend vervoer dekking</span></button>
                    </li>
                    <li>
                        <input type="checkbox" id="noClaim" name="extraDekking" value="noClaim">
                        <label for="noClaim">No-Claim Beschermer: &euro; 6,12 per maand
                            <p>Behoud van no-claim korting.</p>
                        </label>
                        <dd id="noClaimDesc" class="modal" role="dialog" aria-modal="true">
                            <div class="modal-content">
                                <button class="close">
                                    &times;<span class="visually-hidden">Sluiten</span>
                                </button>
                                <h4>No-Claim Beschermer</h4>
                                <p>Met de no-claim beschermer behoudt u uw no-claim korting, zelfs als u een keer schade
                                    claimt. Dit voorkomt dat uw premie stijgt na een schadegeval.</p>
                            </div>
                        </dd>
                        <button type="button" class="expand-btn" aria-expanded="false" aria-controls="noClaimDesc">Meer
                            informatie <span class="visually-hidden">over onze extra no-claim beschermer</span></button>
                    </li>
                </ul>
            </div>
        </fieldset>
    </form>

    <script>
        document.querySelectorAll('.expand-btn').forEach(button => {
            button.addEventListener('click', () => {
                const modal = button.previousElementSibling;
                const isExpanded = button.getAttribute('aria-expanded') === 'true';

                // Verberg alle modals
                document.querySelectorAll('.modal').forEach(element => {
                    element.style.display = 'none';
                });

                // Zet aria-expanded op false voor alle knoppen
                document.querySelectorAll('.expand-btn').forEach(btn => {
                    btn.setAttribute('aria-expanded', 'false');
                });

                // Toon de geselecteerde modal als deze niet al zichtbaar is
                if (!isExpanded) {
                    button.setAttribute('aria-expanded', 'true');
                    modal.style.display = 'block';
                }
            });
        });

        // Sluit de modal wanneer de gebruiker op de sluitknop klikt
        document.querySelectorAll('.close').forEach(button => {
            button.addEventListener('click', () => {
                const modal = button.closest('.modal');
                modal.style.display = 'none';
                document.querySelectorAll('.expand-btn').forEach(btn => {
                    btn.setAttribute('aria-expanded', 'false');
                });
            });
        });

        // Sluit de modal wanneer de gebruiker ergens buiten de modal klikt
        window.addEventListener('click', event => {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
                document.querySelectorAll('.expand-btn').forEach(btn => {
                    btn.setAttribute('aria-expanded', 'false');
                });
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const basisRadio = document.getElementById('basis');
            const pechhulpCheckbox = document.getElementById('pechhulp');

            // Functie om de opties op basis van huidige selectie te disablen of enablen
            const toggleOptions = () => {
                const exclusief = document.getElementById('exclusief');
                const eigenrisico = document.getElementById('eigenrisico');
                if (basisRadio.checked) {
                    pechhulpCheckbox.disabled = true;
                    pechhulpCheckbox.checked = false;
                    exclusief.style.display = 'block';
                    eigenrisico.style.display = 'none';
                } else {
                    pechhulpCheckbox.disabled = false;
                    exclusief.style.display = 'none';
                    eigenrisico.style.display = 'block';
                }
            };

            // Event listener voor het wijzigen van de radiobuttons
            document.querySelectorAll('input[name="dekkingNiveau"]').forEach(radio => {
                radio.addEventListener('change', toggleOptions);
            });

            // Initialiseer de juiste staat bij het laden van de pagina
            toggleOptions();
        });
    </script>
</body>

</html>